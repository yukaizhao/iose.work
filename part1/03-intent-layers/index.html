<!doctype html><html lang=zh><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-3DG40LJYZ7"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3DG40LJYZ7")</script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="智能时代软件工程从代码到意图的范式革命"><meta name=keywords content="面向意图软件工程,IOSE,Intent-Oriented Software Engineering,AI Agent,软件工程范式,意图驱动开发,人机协作,大模型软件工程"><meta name=author content="IOSE Team"><meta name=robots content="index, follow"><link rel=canonical href=/part1/03-intent-layers/><meta property="og:type" content="website"><meta property="og:url" content="/part1/03-intent-layers/"><meta property="og:title" content="第三章：意图的分层 | 面向意图软件工程"><meta property="og:description" content="智能时代软件工程从代码到意图的范式革命"><meta property="og:site_name" content="面向意图软件工程"><meta property="og:locale" content="zh_CN"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="第三章：意图的分层 | 面向意图软件工程"><meta name=twitter:description content="智能时代软件工程从代码到意图的范式革命"><link rel=icon type=image/svg+xml href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎯</text></svg>"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel=stylesheet><link rel=stylesheet href=/css/style.css><script type=application/ld+json>{"@context":"https://schema.org","@type":"Book","name":"面向意图软件工程","alternateName":"Intent-Oriented Software Engineering","description":"智能时代软件工程从代码到意图的范式革命","inLanguage":["zh-CN","en-US"],"author":{"@type":"Organization","name":"IOSE Team"},"about":{"@type":"Thing","name":"Software Engineering Paradigm","description":"AI-driven intent-oriented software development methodology"},"keywords":["IOSE","AI Agent","Intent-Driven Development","Software Engineering","Human-AI Collaboration"]}</script><title>第三章：意图的分层 | 面向意图软件工程</title></head><body class=has-sidebar><header class=site-header><div class=container><div class=header-inner><a href=/ class=logo><span class=logo-icon>🎯</span>
<span class=logo-text>IOSE</span></a><div class=header-slogan><span class=slogan-main>面向意图<br class=mobile-br>软件工程</span>
<span class=slogan-divider></span>
<span class=slogan-sub>智能时代软件工程从代码到意图的范式革命</span></div><button type=button class=header-toc-btn id=headerChapterNavToggle aria-label=打开章节目录>
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
<span class=header-toc-btn-text>目录</span></button><div class=header-actions><a href=/read/ class="btn btn-sm btn-primary">中文</a>
<a href=/en/read/ class="btn btn-sm btn-secondary">English</a></div></div></div></header><main class=main-content><article class="page-content with-sidebar"><nav class=chapter-nav id=chapterNav><div class=chapter-nav-header><button class=chapter-nav-toggle id=chapterNavToggle aria-label="Toggle chapter navigation">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<span class=chapter-nav-title>章节目录</span></div><div class=chapter-nav-content id=chapterNavContent><div class=chapter-part><div class=chapter-part-header><span class=chapter-part-number>1</span>
<span class=chapter-part-title>第一部分：基础概念</span></div><ul class=chapter-list-nav><li class=chapter-item><a href=/part1/01-what-is-iose/ class=chapter-link><span class=chapter-num>01</span>
<span class=chapter-title>第一章：什么是面向意图软件工程</span></a></li><li class=chapter-item><a href=/part1/02-why-iose/ class=chapter-link><span class=chapter-num>02</span>
<span class=chapter-title>第二章：为什么需要这场变革</span></a></li><li class="chapter-item active"><a href=/part1/03-intent-layers/ class=chapter-link><span class=chapter-num>03</span>
<span class=chapter-title>第三章：意图的分层</span></a></li></ul></div><div class=chapter-part><div class=chapter-part-header><span class=chapter-part-number>2</span>
<span class=chapter-part-title>第二部分：演进与变革</span></div><ul class=chapter-list-nav></ul></div><div class=chapter-part><div class=chapter-part-header><span class=chapter-part-number>3</span>
<span class=chapter-part-title>第三部分：实践落地</span></div><ul class=chapter-list-nav></ul></div><div class=chapter-part><div class=chapter-part-header><span class=chapter-part-number>4</span>
<span class=chapter-part-title>第四部分：未来展望</span></div><ul class=chapter-list-nav></ul></div></div></nav><div class=chapter-nav-overlay id=chapterNavOverlay></div><div class=content-main><div class=content-wrapper><div class=content-toc-wrapper><nav class=content-toc id=contentToc><div class=content-toc-header><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>
<span>目录</span>
<button class=content-toc-toggle id=contentTocToggle aria-label="Toggle TOC">
<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg></button></div><div class=content-toc-body id=contentTocBody><ul class=content-toc-list><li class="content-toc-item toc-h2"><a href=#1-%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81%e5%88%86%e5%b1%82 class=content-toc-link>1 为什么需要分层</a></li><li class="content-toc-item toc-h2"><a href=#2-%e6%84%8f%e5%9b%be%e7%9a%84%e4%b8%89%e5%b1%82%e6%a8%a1%e5%9e%8b class=content-toc-link>2 意图的三层模型</a></li><li class="content-toc-item toc-h3"><a href=#%e4%b8%9a%e5%8a%a1%e6%84%8f%e5%9b%bebusiness-intent class=content-toc-link>业务意图（Business Intent）</a></li><li class="content-toc-item toc-h3"><a href=#%e4%ba%a7%e5%93%81%e6%84%8f%e5%9b%beproduct-intent class=content-toc-link>产品意图（Product Intent）</a></li><li class="content-toc-item toc-h3"><a href=#%e6%8a%80%e6%9c%af%e6%84%8f%e5%9b%betechnical-intent class=content-toc-link>技术意图（Technical Intent）</a></li><li class="content-toc-item toc-h2"><a href=#3-%e4%b8%89%e5%b1%82%e4%b9%8b%e9%97%b4%e7%9a%84%e4%ba%92%e5%8a%a8%e5%85%b3%e7%b3%bb class=content-toc-link>3 三层之间的互动关系</a></li><li class="content-toc-item toc-h3"><a href=#%e8%87%aa%e4%b8%8a%e8%80%8c%e4%b8%8b%e7%9a%84%e8%bd%ac%e5%8c%96%e8%bf%87%e7%a8%8b class=content-toc-link>自上而下的转化过程</a></li><li class="content-toc-item toc-h3"><a href=#%e8%87%aa%e4%b8%8b%e8%80%8c%e4%b8%8a%e7%9a%84%e6%94%af%e6%92%91%e5%85%b3%e7%b3%bb class=content-toc-link>自下而上的支撑关系</a></li><li class="content-toc-item toc-h3"><a href=#%e5%90%84%e5%b1%82%e7%9a%84%e5%85%b3%e6%b3%a8%e4%b8%bb%e4%bd%93 class=content-toc-link>各层的关注主体</a></li><li class="content-toc-item toc-h2"><a href=#4-%e6%84%8f%e5%9b%be%e8%a1%a8%e8%be%be%e7%9a%84%e7%b2%be%e7%a1%ae%e6%80%a7%e5%8e%9f%e5%88%99 class=content-toc-link>4 意图表达的精确性原则</a></li><li class="content-toc-item toc-h3"><a href=#%e9%81%bf%e5%85%8d%e6%ad%a7%e4%b9%89%e4%bb%8e%e6%a8%a1%e7%b3%8a%e5%88%b0%e7%b2%be%e7%a1%ae class=content-toc-link>避免歧义：从模糊到精确</a></li><li class="content-toc-item toc-h3"><a href=#%e5%8f%af%e9%aa%8c%e8%af%81%e6%80%a7%e7%a1%ae%e4%bf%9d%e6%84%8f%e5%9b%be%e5%8f%af%e8%a2%ab%e6%a3%80%e9%aa%8c class=content-toc-link>可验证性：确保意图可被检验</a></li><li class="content-toc-item toc-h2"><a href=#5-%e6%9c%ac%e7%ab%a0%e5%b0%8f%e7%bb%93 class=content-toc-link>5 本章小结</a></li><li class="content-toc-item toc-h2"><a href=#%e5%ae%9e%e6%93%8d%e7%bb%83%e4%b9%a0 class=content-toc-link>实操练习</a></li></ul></div></nav></div><h1>第三章：意图的分层</h1><h2 id=1-为什么需要分层>1 为什么需要分层</h2><p>意图从来都不是一个单一维度的简单指令，而是一个分层的语义体系。让我们通过一个具体的场景来理解这一点：当一位高管在项目启动会上说"我们要开发一个会员系统"时，在场的不同角色实际上接收到了完全不同的信息——</p><p><strong>CEO</strong>脑海中浮现的是财务报表上的数字：这套系统能否提升用户留存率？能否带来可观的收入增长？它如何支撑公司的长期竞争壁垒？</p><p><strong>产品经理</strong>则在思考功能蓝图：会员应该划分几个等级？每个等级的权益如何设计？定价策略应该采用怎样的梯度？如何与现有的积分体系打通？</p><p><strong>技术负责人</strong>的关注点已经下沉到技术层面：这个系统应该如何保障性能？数据安全如何确保？高并发场景下如何稳定运行？</p><p>同一个"会员系统"的概念，在不同角色的认知中呈现出截然不同的面貌。这种认知差异不是沟通的失误，而是软件系统固有复杂性的体现——它同时涉及商业价值、产品功能和技术约束等多个层面。</p><p><strong>意图分层的核心目的，正是在这种复杂性中建立秩序。它将模糊的"开发一个系统"分解为清晰的三个层次：业务意图指明价值方向，产品意图定义具体功能，技术意图划定实现边界。其中，产品意图和技术意图是IOSE变革的核心操作界面。</strong></p><h2 id=2-意图的三层模型>2 意图的三层模型</h2><p>在面向意图软件工程的实践中，我们将意图划分为三个层次，形成清晰的价值传递链条：</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>flowchart TB
    A[&#34;业务意图 Business&#34;]
    A_desc[&#34;回答为什么做——价值方向&#34;]
    B[&#34;产品意图 Product&#34;]
    B_desc[&#34;回答做什么——功能定义&#34;]
    C[&#34;技术意图 Technical&#34;]
    C_desc[&#34;回答怎么做才对——约束边界&#34;]

    A --&gt; A_desc
    A --&gt; B
    B --&gt; B_desc
    B --&gt; C
    C --&gt; C_desc

    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style B fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style A_desc fill:#fafafa,stroke:#bdbdbd
    style B_desc fill:#fafafa,stroke:#bdbdbd
    style C_desc fill:#fafafa,stroke:#bdbdbd
</code></pre><p>这三个层次分工明确、逐层递进。<strong>其中，产品意图和技术意图是IOSE变革的核心战场</strong>——产品人员通过定义产品意图直接驱动开发，技术人员通过定义技术意图保障AI生成质量。</p><h3 id=业务意图business-intent>业务意图（Business Intent）</h3><p>业务意图聚焦于宏观的商业目标，回答"为什么要做"的问题。它通常来自高层管理者，为整个组织指明方向。</p><p><strong>业务意图的核心要素</strong>：</p><table><thead><tr><th>要素</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><strong>业务目标</strong></td><td>期望达成的商业结果</td><td>提升年费会员续费率10%</td></tr><tr><td><strong>价值主张</strong></td><td>为组织创造的核心价值</td><td>减少被动流失，增强用户粘性</td></tr><tr><td><strong>战略背景</strong></td><td>为什么现在要做这件事</td><td>市场竞争加剧，会员留存成关键指标</td></tr></tbody></table><p>业务意图相对稳定，更多作为背景存在。在IOSE变革中，它不需要被频繁操作，但需要被清晰理解和传达。</p><p><strong>业务意图示例</strong>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-txt data-lang=txt><span style=display:flex><span>我们要做什么：
</span></span><span style=display:flex><span>提升年费会员的续费率
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>业务目标：
</span></span><span style=display:flex><span>- 将年度会员续费率从目前的75%提升至85%，即每月减少约2000名被动流失用户
</span></span><span style=display:flex><span>- 通过主动服务手段，让更多即将到期的会员及时完成续费
</span></span><span style=display:flex><span>- 预计带来的年收入增长约为500万元
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>价值主张：
</span></span><span style=display:flex><span>对公司的价值：
</span></span><span style=display:flex><span>减少用户流失意味着更高的客户生命周期价值，每位保留的年费会员平均可带来
</span></span><span style=display:flex><span>额外3年的订阅收入。相比获取新客的高昂成本，留住老用户的ROI更高。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>对用户的价值：
</span></span><span style=display:flex><span>帮助用户避免因遗忘或疏忽导致的权益中断，确保他们能持续享受会员特权，
</span></span><span style=display:flex><span>提升用户对平台的忠诚度和满意度。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>战略背景：
</span></span><span style=display:flex><span>- 市场竞争加剧：过去两年，同行业的获客成本上涨了40%，单纯依靠拉新驱动
</span></span><span style=display:flex><span>  的增长模式已经难以为继
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- 公司战略转型：今年公司明确提出从&#34;流量导向&#34;向&#34;用户价值导向&#34;转型，
</span></span><span style=display:flex><span>  存量用户运营成为核心战略
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- 数据发现的问题：用户调研显示，超过60%的流失会员表示&#34;忘记续费&#34;是主要原因，
</span></span><span style=display:flex><span>  而非对服务不满意，这意味着存在巨大的挽回空间
</span></span></code></pre></div><h3 id=产品意图product-intent>产品意图（Product Intent）</h3><p>产品意图是连接业务与技术的桥梁，它将抽象的业务目标转化为具体的产品功能方案，回答"做什么"的问题。</p><p><strong>产品意图的核心要素</strong>：</p><ul><li><strong>功能目标</strong>：具体要实现什么功能，解决什么问题</li><li><strong>目标用户</strong>：这个功能服务的对象群体是谁，他们有什么特征</li><li><strong>使用场景</strong>：功能在什么情况下被使用，触发条件是什么</li><li><strong>用户体验</strong>：用户如何感知这个功能，操作路径是怎样的</li><li><strong>验收标准</strong>：如何衡量功能是否成功，有哪些可量化的指标</li></ul><p><strong>产品意图是IOSE变革的核心操作对象之一</strong>。在IOSE范式下，产品经理的工作重心从写PRD、画原型，转向定义结构化的产品意图。这种结构化的产品意图可以直接驱动AI生成可运行的软件，产品人员由此获得了直接创造数字产品的能力。</p><p>产品意图的表达有两种主要形式：<strong>文本描述</strong>用于表达功能逻辑和业务流程，<strong>Figma设计稿</strong>用于精确表达用户界面。</p><h4 id=文本表达描述功能与流程>文本表达：描述功能与流程</h4><p>文本形式适合描述不涉及复杂界面的功能逻辑、业务流程、算法规则等。它用自然语言清晰阐述"做什么"、&ldquo;给谁用&rdquo;、&ldquo;在什么场景下使用"以及"如何衡量成功&rdquo;。</p><p><strong>文本型产品意图示例</strong>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-txt data-lang=txt><span style=display:flex><span>功能目标：
</span></span><span style=display:flex><span>为年费会员开发一套权益过期提醒功能，在用户会员即将到期时，通过App推送
</span></span><span style=display:flex><span>和邮件多渠道触达，提醒用户及时续费，从而减少因遗忘导致的被动流失。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>目标用户：
</span></span><span style=display:flex><span>年费会员，特别是距离到期还有30天内的用户群体。根据数据分析，这部分
</span></span><span style=display:flex><span>用户的续费意愿较高，但容易因忘记而导致权益中断。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>使用场景：
</span></span><span style=display:flex><span>当会员的年费权益即将在30天内过期时，系统需要主动发起提醒：
</span></span><span style=display:flex><span>- 到期前30天：首次友好提醒，告知权益即将到期
</span></span><span style=display:flex><span>- 到期前7天：二次提醒，强调权益价值和续费优惠
</span></span><span style=display:flex><span>- 到期前1天：最后提醒，制造紧迫感
</span></span><span style=display:flex><span>提醒渠道包括App推送通知和邮件两种方式。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>用户体验：
</span></span><span style=display:flex><span>- 提醒内容清晰明了：明确告知过期时间、剩余权益价值，以及不续费将失去什么
</span></span><span style=display:flex><span>- 操作路径极简：提供一键续费的快捷入口，用户无需多次跳转即可完成支付
</span></span><span style=display:flex><span>- 尊重用户选择：提供&#34;7天后再提醒&#34;和&#34;不再提醒&#34;的选项，避免过度打扰
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>验收标准：
</span></span><span style=display:flex><span>功能准确性：
</span></span><span style=display:flex><span>- 提醒触发时机准确，分别在到期前30天、7天、1天触发
</span></span><span style=display:flex><span>- 提醒对象筛选正确，不包含已续费或已关闭自动续费的用户
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>业务效果：
</span></span><span style=display:flex><span>- 提醒打开率 &gt; 60%（即收到提醒的用户中，超过60%会点击查看）
</span></span><span style=display:flex><span>- 续费转化率 &gt; 15%（即点击查看的用户中，超过15%会完成续费）
</span></span><span style=display:flex><span>- 用户投诉率 &lt; 1%（因过度打扰或提醒不准确导致的投诉）
</span></span></code></pre></div><h4 id=figma表达精确描述用户界面>Figma表达：精确描述用户界面</h4><p>当产品意图涉及用户界面时，纯文本描述往往难以精确传达视觉细节——按钮的具体位置、颜色色值、文字字号、元素间距等信息用文字描述既冗长又容易歧义。此时，<strong>Figma设计稿</strong>是表达界面意图的最佳工具。</p><p>Figma的本质优势在于它将设计定义成了<strong>数据</strong>：</p><ul><li>传统设计工具输出的是<strong>像素（图片）</strong>，大模型需要"理解"视觉元素、推理其结构和样式，这个过程不仅消耗大量算力，还容易丢失细节（比如精确的间距、色值、字体参数）。</li><li>Figma的每一个界面元素——从按钮的位置坐标、颜色值到文字的字体、间距参数——都是<strong>结构化的数据</strong>。Figma的文件格式本质上就是一种"伪代码"，可以被精确读取和程序化操作。</li></ul><p>因此，当产品意图包含界面时，<strong>优先提供Figma设计稿的链接或导出的结构化数据</strong>，而非截图或纯文字描述。这让AI能够精准还原设计意图，而不是在模糊的视觉信息中猜测。</p><p><strong>界面型产品意图示例</strong>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-txt data-lang=txt><span style=display:flex><span>功能目标：
</span></span><span style=display:flex><span>设计会员续费提醒的推送通知卡片和邮件页面，提升用户点击率和续费转化率。
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>界面交付物：
</span></span><span style=display:flex><span>- Figma设计稿链接：https://figma.com/file/xxx/member-renewal
</span></span><span style=display:flex><span>- 或导出的结构化数据文件（如 figma-to-code 插件生成的 JSON）
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>关键界面说明：
</span></span><span style=display:flex><span>1. App推送通知卡片
</span></span><span style=display:flex><span>   - 展示位置：手机锁屏和通知中心
</span></span><span style=display:flex><span>   - 内容要素：会员等级图标、权益过期倒计时、续费按钮
</span></span><span style=display:flex><span>   - 交互：左滑关闭，点击进入续费页面
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>2. 邮件提醒页面
</span></span><span style=display:flex><span>   - 顶部：品牌Logo和会员专属标识
</span></span><span style=display:flex><span>   - 主体：权益清单（已使用/未使用）、过期时间、续费优惠
</span></span><span style=display:flex><span>   - 底部：一键续费按钮、客服联系方式、退订链接
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>设计规范：
</span></span><span style=display:flex><span>- 遵循iOS/Android官方推送设计规范
</span></span><span style=display:flex><span>- 邮件宽度限制在600px以内，确保各客户端兼容
</span></span><span style=display:flex><span>- 按钮颜色使用品牌主色#FF6B35，确保视觉层级清晰
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>验收标准：
</span></span><span style=display:flex><span>- 设计稿完整覆盖推送卡片和邮件两种形式
</span></span><span style=display:flex><span>- 所有视觉元素标注明确的尺寸、颜色、字体参数
</span></span><span style=display:flex><span>- 提供移动端和桌面端的适配方案
</span></span></code></pre></div><h3 id=技术意图technical-intent>技术意图（Technical Intent）</h3><p>技术意图的核心使命是<strong>将产品意图转化为编码Agent能够理解和执行的具体方案</strong>，同时确保实现过程符合质量边界。它回答两个关键问题：&ldquo;如何让AI理解需求"以及"怎么做才对&rdquo;。</p><p>技术意图包含两大组成部分：</p><p><strong>第一部分：实现规格（How to Implement）</strong></p><p>这部分聚焦于将产品功能拆解为Agent可执行的技术方案，是技术意图最具变革意义的内容。</p><table><thead><tr><th>要素</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><strong>需求拆解</strong></td><td>将产品功能拆分为可独立实现的技术模块</td><td>拆分为"提醒生成器"、&ldquo;推送服务&rdquo;、&ldquo;邮件服务"三个模块</td></tr><tr><td><strong>技术设计</strong></td><td>关键设计决策：架构选择、数据模型、接口契约</td><td>采用事件驱动架构；定义Reminder、Notification领域模型</td></tr><tr><td><strong>任务拆分</strong></td><td>将实现工作拆分为Agent可执行的开发任务</td><td>Task1: 定义数据模型；Task2: 实现提醒生成逻辑</td></tr><tr><td><strong>验收规格</strong></td><td>每个任务的完成标准和验证方式</td><td>单元测试通过；接口契约符合OpenAPI规范</td></tr></tbody></table><p><strong>第二部分：质量约束（Constraints）</strong></p><p>这部分定义实现过程必须遵守的边界条件。</p><table><thead><tr><th>要素</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><strong>性能约束</strong></td><td>响应时间、吞吐量、资源占用</td><td>接口P99响应时间 &lt; 50ms</td></tr><tr><td><strong>安全约束</strong></td><td>安全基线和合规要求</td><td>所有接口必须经过OAuth2.0认证</td></tr><tr><td><strong>代码质量约束</strong></td><td>代码质量和可维护性标准</td><td>单元测试覆盖率 > 80%</td></tr><tr><td><strong>架构质量约束</strong></td><td>系统结构健康度</td><td>模块规模、圈复杂度、分层方向约束</td></tr><tr><td><strong>依赖约束</strong></td><td>技术栈和基础设施限制</td><td>必须使用MySQL 8.0</td></tr></tbody></table><p><strong>关于架构质量约束的特别说明</strong>：</p><p>架构质量约束是IOSE范式中确保软件长期可维护性的关键机制。当AI Agent持续生成和修改代码时，如果没有清晰的架构边界约束，系统很容易陷入"混乱增长&rdquo;——模块职责模糊、依赖关系错综复杂、代码复杂度失控。这不仅影响人类理解，更会大幅降低AI Agent后续工作的效率。</p><p><strong>核心架构约束要素</strong>：</p><ul><li><p><strong>分层方向约束</strong>：严格定义分层架构中各层的依赖方向（如经典的三层架构：Controller → Service → Repository），禁止反向依赖或跨层调用。这确保AI在生成新代码时不会破坏架构的清晰边界。</p></li><li><p><strong>圈复杂度控制</strong>：要求每个函数/方法的圈复杂度不超过10（或团队约定的阈值）。高复杂度的代码不仅难以维护，也会让AI在后续修改时难以把握逻辑边界，容易产生bug。</p></li><li><p><strong>模块规模约束</strong>：限制单个文件、单个类、单个函数的代码行数（如单个文件不超过500行，单个函数不超过50行）。适当的粒度让AI能够更精准地定位修改范围，降低变更的影响面，提升生成效率。</p></li></ul><p>通过这些约束，我们确保AI Agent在持续工作中始终面对的是一个结构清晰、边界明确的代码库，从而保持高效率的代码生成和修改能力。</p><p><strong>技术意图是IOSE变革的核心操作对象</strong>。开发者从"亲自编写每一行代码"转向"定义实现规格并审查AI的执行"。高质量的技术意图应当足够清晰，使得Cursor、Claude Code等Agent工具能够基于它自主完成开发任务。</p><h4 id=技术意图的实践参考>技术意图的实践参考</h4><p>在实际工作中，技术意图的撰写可以参考以下工具和理念：</p><p><strong>参考Cursor的Agent模式</strong>：Cursor的Composer功能展示了如何将需求描述转化为多文件代码修改。在技术意图中，我们需要提供类似的"上下文地图"——说明每个模块的职责、与其他模块的交互方式、以及关键文件的组织结构。</p><p><strong>参考Claude Code的Spec驱动</strong>：Claude Code在处理复杂任务时，会先与用户确认"Implementation Plan"（实现计划）。技术意图中的"任务拆分"部分正是类似的实现计划，它需要明确每个子任务的输入、输出和验收标准。</p><p><strong>参考Kiro的规格驱动开发</strong>：Kiro强调"Specs as Code"，即规格文档本身就是可执行的约束。技术意图中的"验收规格"应当足够精确，可以被自动化工具验证——例如通过单元测试断言、API契约测试、或者静态代码分析来确保实现符合规格。</p><h2 id=3-三层之间的互动关系>3 三层之间的互动关系</h2><p>业务意图、产品意图和技术意图不是相互独立的三个孤岛，而是一个有机整体。理解它们之间的互动关系，对于有效运用意图分层至关重要。</p><h3 id=自上而下的转化过程>自上而下的转化过程</h3><p>在实际的软件规划过程中，高层的业务意图需要逐层转化为可执行的技术方案：</p><pre tabindex=0><code class=language-mermaid data-lang=mermaid>flowchart TD
    A[&#34;业务意图: 提升会员续费率10%&#34;]
    B[&#34;产品意图: 权益过期提醒功能&#34;]
    C[&#34;技术意图A: 提醒生成服务&#34;]
    D[&#34;技术意图B: 推送通知服务&#34;]
    E[&#34;技术意图C: 续费页面优化&#34;]

    A --&gt; B
    B --&gt; C
    B --&gt; D
    B --&gt; E

    style A fill:#e3f2fd,stroke:#1976d2,stroke-width:2px
    style B fill:#e8f5e9,stroke:#388e3c,stroke-width:2px
    style C fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style D fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style E fill:#fff3e0,stroke:#f57c00,stroke-width:2px
</code></pre><p>业务意图回答"为什么要做"，为产品意图提供方向指引；产品意图回答"做什么"，将业务目标转化为具体的功能方案；技术意图回答"怎么做才对"，为产品实现划定质量边界。</p><h3 id=自下而上的支撑关系>自下而上的支撑关系</h3><p>反过来，每一层意图都为上一层提供实现支撑：</p><ul><li><strong>技术意图支撑产品意图</strong>：如果没有性能约束，提醒服务可能在高峰期崩溃，产品功能就无法正常运行；如果没有安全约束，用户数据泄露，产品价值将荡然无存。</li><li><strong>产品意图支撑业务意图</strong>：如果产品功能设计不合理，用户不愿使用，业务目标就无法达成；如果验收标准设定不当，无法衡量实际效果，业务价值就无从验证。</li></ul><p><strong>产品意图和技术意图是IOSE变革的核心操作界面</strong>。产品人员通过定义清晰的产品意图，直接驱动AI理解"做什么"；技术人员通过定义完备的技术意图，确保AI知道"怎么做才对"。两者共同构成了人类与AI协作的主要通道。</p><h3 id=各层的关注主体>各层的关注主体</h3><table><thead><tr><th>意图层次</th><th>主要关注者</th><th>核心问题</th><th>在IOSE中的角色</th></tr></thead><tbody><tr><td><strong>业务意图</strong></td><td>高层管理者、业务负责人</td><td>&ldquo;为什么做&rdquo;</td><td>提供方向背景，相对稳定</td></tr><tr><td><strong>产品意图</strong></td><td>产品经理、业务分析师</td><td>&ldquo;做什么&rdquo;</td><td><strong>核心操作对象，直接驱动开发</strong></td></tr><tr><td><strong>技术意图</strong></td><td>技术负责人、架构师</td><td>&ldquo;怎么做才对&rdquo;</td><td><strong>核心操作对象，保障AI生成质量</strong></td></tr></tbody></table><h2 id=4-意图表达的精确性原则>4 意图表达的精确性原则</h2><p>意图表达的质量直接决定了AI Agent能否准确理解和执行。以下是两个关键原则：</p><h3 id=避免歧义从模糊到精确>避免歧义：从模糊到精确</h3><p>自然语言本身具有天然的歧义性，但意图文档要求尽可能消除这种歧义。以下是一些常见的对比示例：</p><table><thead><tr><th>模糊表达（应避免）</th><th>精确表达（推荐）</th></tr></thead><tbody><tr><td>&ldquo;尽快完成&rdquo;</td><td>&ldquo;3个工作日内完成开发，1周内部署上线&rdquo;</td></tr><tr><td>&ldquo;性能要好&rdquo;</td><td>&ldquo;接口P99响应时间 &lt; 100ms，支持1000 QPS并发&rdquo;</td></tr><tr><td>&ldquo;用户体验友好&rdquo;</td><td>&ldquo;页面首次加载时间 &lt; 2秒，错误提示使用中文且包含具体操作建议&rdquo;</td></tr><tr><td>&ldquo;保证安全&rdquo;</td><td>&ldquo;所有API必须经过OAuth2.0认证，敏感数据使用AES-256加密存储&rdquo;</td></tr><tr><td>&ldquo;系统要稳定&rdquo;</td><td>&ldquo;系统可用性 > 99.9%，故障恢复时间 &lt; 30分钟&rdquo;</td></tr></tbody></table><h3 id=可验证性确保意图可被检验>可验证性：确保意图可被检验</h3><p>每一个意图都应该能够被客观地验证。如果一个意图无法验证，那么它就无法作为AI Agent的执行目标和验收标准。</p><blockquote><p><strong>不够好的意图示例</strong>：&ldquo;系统应该稳定运行&rdquo;</p><p>问题：&ldquo;稳定"是一个主观概念，不同人可能有不同理解</p><p><strong>改进后的意图</strong>：&ldquo;系统可用性 > 99.9%，故障恢复时间 &lt; 30分钟，每月计划外停机时间 &lt; 43分钟&rdquo;</p><p>优势：指标明确、可测量、可验证</p></blockquote><h2 id=5-本章小结>5 本章小结</h2><p>意图分层是面向意图软件工程的理论基石和实践指南。通过本章的学习，我们应该掌握以下核心要点：</p><ol><li><strong>业务意图</strong>回答"为什么做&rdquo;——它指明价值方向，为产品意图提供背景；</li><li><strong>产品意图</strong>回答"做什么"——它将业务目标转化为具体功能方案，是<strong>IOSE变革的核心操作对象</strong>；</li><li><strong>技术意图</strong>回答"如何让AI理解并实现"——它包含实现规格（需求拆解、技术设计、任务拆分）和质量约束，是<strong>IOSE变革的技术核心</strong>；</li><li><strong>精确表达</strong>原则消除了自然语言的歧义，确保意图能够被AI准确理解和验证。</li></ol><p>这种三层结构带来的好处是多方面的：</p><ul><li><strong>业务人员</strong>可以专注于价值方向，无需陷入功能细节；</li><li><strong>产品人员</strong>可以专注于功能定义，通过结构化意图直接驱动开发；</li><li><strong>技术人员</strong>从编码执行者转变为规格定义者，通过技术意图指导AI完成实现；</li><li><strong>AI Agent</strong>获得了清晰、结构化、可执行的输入，能够自主完成从设计到编码的全流程。</li></ul><p><strong>核心洞察</strong>：在IOSE范式下，技术人员的价值不再体现在"写代码的速度"，而体现在"定义清晰规格的能力"。一个优秀的技术意图应当足够完整，使得Cursor、Claude Code等Agent能够基于此自主完成开发任务，而人类只需审查和验收。</p><p>在下一章中，我们将进一步对比新旧软件工程范式的核心差异，深入理解这场变革的深远影响和意义。</p><hr><h2 id=实操练习>实操练习</h2><p>为了帮助你更好地掌握意图分层，建议完成以下实践练习：</p><p><strong>练习任务</strong>：选择一个你当前正在负责或熟悉的具体功能，尝试按照本章介绍的模板编写：</p><ol><li>一份业务意图文档（简要说明业务背景和目标）</li><li>一份产品意图文档（参考3.2.2节的模板，详细描述功能定义）</li><li>一份技术意图文档（参考3.2.3节的模板，明确技术约束）</li></ol><p><strong>完成后的自检清单</strong>：</p><ul><li><input disabled type=checkbox> 三个层次的意图是否形成清晰的价值链条？</li><li><input disabled type=checkbox> 产品意图是否将业务目标转化为具体可执行的功能方案？</li><li><input disabled type=checkbox> 技术意图是否包含完整的实现规格（需求拆解、技术设计、任务拆分）？</li><li><input disabled type=checkbox> 任务拆分是否足够细致，Agent能够理解每个任务的输入输出？</li><li><input disabled type=checkbox> 验收规格是否可量化、可自动化验证？</li><li><input disabled type=checkbox> 如果将这些文档交给Cursor或Claude Code，它是否能够据此自主完成开发？</li></ul><nav class=chapter-nav-footer><a href=/part1/02-why-iose/ class=chapter-nav-prev><span class=chapter-nav-label><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
上一章
</span><span class=chapter-nav-title>第二章：为什么需要这场变革</span>
</a><span class="chapter-nav-next disabled"><span class=chapter-nav-label>下一章
<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
</span><span class=chapter-nav-title>无</span></span></nav></div></div></article></main><footer class=site-footer><div class=container><div class=footer-inner><div class=footer-main><div class=footer-brand><span class=logo-icon>🎯</span>
<span class=logo-text>IOSE</span></div><div class=footer-slogan><div class=slogan-main>面向意图软件工程</div><div class=slogan-divider style=height:4px></div><div class=slogan-sub>智能时代软件工程从代码到意图的范式革命</div></div><p class=footer-desc>本书系统阐述了 Intent-Oriented Software Engineering（IOSE）的理论框架与实践方法，帮助开发团队适应 AI 驱动的软件工程新范式。从基础概念到团队转型，从工程实践到未来展望，为读者提供完整的方法论指导。</p></div><div class=footer-donate><h4>支持作者</h4><p class=donate-text>如果觉得有收益，欢迎打赏作者</p><img src=/images/buy-me-coffee.jpg alt="Buy me a coffee" width=200 height=200><p class=footer-copyright>© 2026 IOSE</p></div></div></div></footer><script>(function(){const u=1024,e=document.getElementById("chapterNav"),h=document.getElementById("chapterNavToggle"),i=document.getElementById("chapterNavOverlay"),c=document.getElementById("headerChapterNavToggle");function o(){return window.innerWidth<=u}function a(t){if(!e)return;e.classList.toggle("open",t),i&&i.classList.toggle("active",t),document.body.style.overflow=t?"hidden":""}function l(){if(!e)return;a(!e.classList.contains("open"))}if(e&&h){const t=localStorage.getItem("chapterNavCollapsed");!o()&&t==="true"&&(e.classList.add("collapsed"),document.body.classList.add("sidebar-collapsed")),h.addEventListener("click",function(){o()?l():(e.classList.toggle("collapsed"),document.body.classList.toggle("sidebar-collapsed"),localStorage.setItem("chapterNavCollapsed",e.classList.contains("collapsed")))}),i&&i.addEventListener("click",function(){a(!1)}),window.addEventListener("resize",function(){o()||a(!1),e.classList.contains("collapsed")?document.body.classList.add("sidebar-collapsed"):document.body.classList.remove("sidebar-collapsed")})}e&&c&&c.addEventListener("click",function(){o()&&l()});var s,d=document.querySelector(".content-toc-wrapper");d&&window.innerWidth<=u&&(s=document.querySelector(".content-wrapper h1"),s&&s.parentNode.insertBefore(d,s.nextSibling));const t=document.getElementById("contentTocToggle"),n=document.getElementById("contentTocBody");if(t&&n){const e=localStorage.getItem("contentTocCollapsed"),s=window.innerWidth<=768;e===null||e==="false"?s&&e===null?(n.classList.add("collapsed"),t.classList.add("collapsed"),localStorage.setItem("contentTocCollapsed","true")):(n.classList.remove("collapsed"),t.classList.remove("collapsed")):e==="true"&&(n.classList.add("collapsed"),t.classList.add("collapsed")),t.addEventListener("click",function(){n.classList.toggle("collapsed"),t.classList.toggle("collapsed"),localStorage.setItem("contentTocCollapsed",n.classList.contains("collapsed"))})}const m=document.querySelectorAll(".content-toc-link"),r=document.querySelectorAll(".content-wrapper h2[id], .content-wrapper h3[id]");if(m.length>0&&r.length>0){function f(){const t=window.innerWidth<=768?88:120,e=window.scrollY+t;r.forEach(function(t,n){const o=t.offsetTop,s=r[n+1],i=s?s.offsetTop:1/0;if(e>=o&&e<i){m.forEach(function(e){e.parentElement.classList.remove("active")});const e=document.querySelector('.content-toc-link[href="#'+t.id+'"]');e&&e.parentElement.classList.add("active")}})}window.addEventListener("scroll",f,{passive:!0}),f()}document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t==="#")return;const n=document.querySelector(t);if(n){e.preventDefault();const t=88,s=n.getBoundingClientRect().top,o=s+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})}})})})()</script><script src=https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js></script><script>(function(){const e=document.querySelectorAll("code.language-mermaid");e.forEach(function(e){const n=e.parentElement,t=document.createElement("div");t.className="mermaid",t.textContent=e.textContent,n.replaceWith(t)}),mermaid.initialize({startOnLoad:!0,theme:"default"})})()</script><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code"]}}</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js id=MathJax-script async></script></body></html>